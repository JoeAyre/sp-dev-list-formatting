{
  "$schema": "https://developer.microsoft.com/json-schemas/sp/column-formatting.schema.json",
  "elmType": "div",  
  "style": {
    "position": "relative",
	"border":"2px solid",
	"border-color":"=if([$DueDate] <= @now, '#ff9673', if(1 - Number([$DueDate] - @now) / Number([$DueDate] - [$StartDate])) >= 0.7, '#ffd24c', if((Number([$DueDate] - @now))/86400000) >=100, 'sp-field-severity--good', if([$DueDate] <= @now,'red', '#e0e6bd')"
  },
  "children": [
    {
      "elmType": "div",
      "style": {
		"font-size":"12px",
		"text-align-last":"right",
        "min-height": "inherit",
        "width": "=if([$DueDate] <= @now, '100%', if((Number([$DueDate] - @now))/86400000)>=100,'100%', (1 - Number([$DueDate] - @now) / Number([$DueDate] - [$StartDate])) * 100 + '%')"
      },
	  "attributes": {
        "class": "=if([$DueDate] <= @now, 'sp-field-severity--severeWarning', if(1 - Number([$DueDate] - @now) / Number([$DueDate] - [$StartDate])) >= 0.7, 'sp-field-severity--warning', if((Number([$DueDate] - @now))/86400000) >=100, 'sp-field-severity--good', if([$DueDate] <= @now,'sp-field-severity--severeWarning','sp-field-severity--good')"
      }
    },
    {
      "elmType": "span",
      "txtContent": "@currentField",
      "style": {
        "position": "absolute",
        "left": "8px"
      },
      "attributes": {
        "class": "ms-fontColor-neutralSecondary"
      }
    },	
	    {
      "elmType": "span",
      	  "txtContent":"='(' + if(((Number([$DueDate] - @now))/86400000)<1 && ((Number([$DueDate] - @now))/86400000)>=0,'0',if(((Number([$DueDate] - @now))/86400000)<2 && ((Number([$DueDate] -@now))/86400000)>=1,'1',if(((Number([$DueDate] - @now))/86400000)<3 && ((Number([$DueDate] - @now))/86400000)>=2,'2',if(((Number([$DueDate] - @now))/86400000)<4 && ((Number([$DueDate] -@now))/86400000)>=3,'3',if(((Number([$DueDate] - @now))/86400000)<5 && ((Number([$DueDate] - @now))/86400000)>=4,'4',if(((Number([$DueDate] - @now))/86400000)<6 && ((Number([$DueDate] -@now))/86400000)>=5,'5',if(((Number([$DueDate] - @now))/86400000)<7 && ((Number([$DueDate] - @now))/86400000)>=6,'6',if(((Number([$DueDate] - @now))/86400000)<8 && ((Number([$DueDate] -@now))/86400000)>=7,'7',if(((Number([$DueDate] - @now))/86400000)<9 && ((Number([$DueDate] - @now))/86400000)>=8,'8',if(((Number([$DueDate] - @now))/86400000)<10 && ((Number([$DueDate] -@now))/86400000)>=9,'9',if(((Number([$DueDate] - @now))/86400000)<11 && ((Number([$DueDate] - @now))/86400000)>=10,'10',if(((Number([$DueDate] - @now))/86400000)<12 && ((Number([$DueDate] -@now))/86400000)>=11,'11',if(((Number([$DueDate] - @now))/86400000)<13 && ((Number([$DueDate] - @now))/86400000)>=12,'12',if(((Number([$DueDate] - @now))/86400000)<14 && ((Number([$DueDate] -@now))/86400000)>=13,'13',if(((Number([$DueDate] - @now))/86400000)<15 && ((Number([$DueDate] - @now))/86400000)>=14,'14',if(((Number([$DueDate] - @now))/86400000)<16 && ((Number([$DueDate] -@now))/86400000)>=15,'15',if(((Number([$DueDate] - @now))/86400000)<17 && ((Number([$DueDate] - @now))/86400000)>=16,'16',if(((Number([$DueDate] - @now))/86400000)<18 && ((Number([$DueDate] -@now))/86400000)>=17,'17',if(((Number([$DueDate] - @now))/86400000)<19 && ((Number([$DueDate] - @now))/86400000)>=18,'18',if(((Number([$DueDate] - @now))/86400000)<20 && ((Number([$DueDate] -@now))/86400000)>=19,'19',if(((Number([$DueDate] - @now))/86400000)<21 && ((Number([$DueDate] - @now))/86400000)>=20,'20',if(((Number([$DueDate] - @now))/86400000)<22 && ((Number([$DueDate] -@now))/86400000)>=21,'21',if(((Number([$DueDate] - @now))/86400000)<23 && ((Number([$DueDate] - @now))/86400000)>=22,'22',if(((Number([$DueDate] - @now))/86400000)<24 && ((Number([$DueDate] -@now))/86400000)>=23,'23',if(((Number([$DueDate] - @now))/86400000)<25 && ((Number([$DueDate] - @now))/86400000)>=24,'24',if(((Number([$DueDate] - @now))/86400000)<26 && ((Number([$DueDate] -@now))/86400000)>=25,'25',if(((Number([$DueDate] - @now))/86400000)<27 && ((Number([$DueDate] - @now))/86400000)>=26,'26',if(((Number([$DueDate] - @now))/86400000)<28 && ((Number([$DueDate] -@now))/86400000)>=27,'27',if(((Number([$DueDate] - @now))/86400000)<29 && ((Number([$DueDate] - @now))/86400000)>=28,'28',if(((Number([$DueDate] - @now))/86400000)<30 && ((Number([$DueDate] -@now))/86400000)>=29,'29',if(((Number([$DueDate] - @now))/86400000)<31 && ((Number([$DueDate] - @now))/86400000)>=30,'30',if(((Number([$DueDate] - @now))/86400000)<32 && ((Number([$DueDate] -@now))/86400000)>=31,'31',if(((Number([$DueDate] - @now))/86400000)<33 && ((Number([$DueDate] - @now))/86400000)>=32,'32',if(((Number([$DueDate] - @now))/86400000)<34 && ((Number([$DueDate] -@now))/86400000)>=33,'33',if(((Number([$DueDate] - @now))/86400000)<35 && ((Number([$DueDate] - @now))/86400000)>=34,'34',if(((Number([$DueDate] - @now))/86400000)<36 && ((Number([$DueDate] -@now))/86400000)>=35,'35',if(((Number([$DueDate] - @now))/86400000)<37 && ((Number([$DueDate] - @now))/86400000)>=36,'36',if(((Number([$DueDate] - @now))/86400000)<38 && ((Number([$DueDate] -@now))/86400000)>=37,'37',if(((Number([$DueDate] - @now))/86400000)<39 && ((Number([$DueDate] - @now))/86400000)>=38,'38',if(((Number([$DueDate] - @now))/86400000)<40 && ((Number([$DueDate] -@now))/86400000)>=39,'39',if(((Number([$DueDate] - @now))/86400000)<41 && ((Number([$DueDate] - @now))/86400000)>=40,'40',if(((Number([$DueDate] - @now))/86400000)<42 && ((Number([$DueDate] -@now))/86400000)>=41,'41',if(((Number([$DueDate] - @now))/86400000)<43 && ((Number([$DueDate] - @now))/86400000)>=42,'42',if(((Number([$DueDate] - @now))/86400000)<44 && ((Number([$DueDate] -@now))/86400000)>=43,'43',if(((Number([$DueDate] - @now))/86400000)<45 && ((Number([$DueDate] - @now))/86400000)>=44,'44',if(((Number([$DueDate] - @now))/86400000)<46 && ((Number([$DueDate] -@now))/86400000)>=45,'45',if(((Number([$DueDate] - @now))/86400000)<47 && ((Number([$DueDate] - @now))/86400000)>=46,'46',if(((Number([$DueDate] - @now))/86400000)<48 && ((Number([$DueDate] -@now))/86400000)>=47,'47',if(((Number([$DueDate] - @now))/86400000)<49 && ((Number([$DueDate] - @now))/86400000)>=48,'48',if(((Number([$DueDate] - @now))/86400000)<50 && ((Number([$DueDate] -@now))/86400000)>=49,'49',if(((Number([$DueDate] - @now))/86400000)<51 && ((Number([$DueDate] - @now))/86400000)>=50,'50',if(((Number([$DueDate] - @now))/86400000)<52 && ((Number([$DueDate] -@now))/86400000)>=51,'51',if(((Number([$DueDate] - @now))/86400000)<53 && ((Number([$DueDate] - @now))/86400000)>=52,'52',if(((Number([$DueDate] - @now))/86400000)<54 && ((Number([$DueDate] -@now))/86400000)>=53,'53',if(((Number([$DueDate] - @now))/86400000)<55 && ((Number([$DueDate] - @now))/86400000)>=54,'54',if(((Number([$DueDate] - @now))/86400000)<56 && ((Number([$DueDate] -@now))/86400000)>=55,'55',if(((Number([$DueDate] - @now))/86400000)<57 && ((Number([$DueDate] - @now))/86400000)>=56,'56',if(((Number([$DueDate] - @now))/86400000)<58 && ((Number([$DueDate] -@now))/86400000)>=57,'57',if(((Number([$DueDate] - @now))/86400000)<59 && ((Number([$DueDate] - @now))/86400000)>=58,'58',if(((Number([$DueDate] - @now))/86400000)<60 && ((Number([$DueDate] -@now))/86400000)>=59,'59',if(((Number([$DueDate] - @now))/86400000)<61 && ((Number([$DueDate] - @now))/86400000)>=60,'60',if(((Number([$DueDate] - @now))/86400000)<62 && ((Number([$DueDate] -@now))/86400000)>=61,'61',if(((Number([$DueDate] - @now))/86400000)<63 && ((Number([$DueDate] - @now))/86400000)>=62,'62',if(((Number([$DueDate] - @now))/86400000)<64 && ((Number([$DueDate] -@now))/86400000)>=63,'63',if(((Number([$DueDate] - @now))/86400000)<65 && ((Number([$DueDate] - @now))/86400000)>=64,'64',if(((Number([$DueDate] - @now))/86400000)<66 && ((Number([$DueDate] -@now))/86400000)>=65,'65',if(((Number([$DueDate] - @now))/86400000)<67 && ((Number([$DueDate] - @now))/86400000)>=66,'66',if(((Number([$DueDate] - @now))/86400000)<68 && ((Number([$DueDate] -@now))/86400000)>=67,'67',if(((Number([$DueDate] - @now))/86400000)<69 && ((Number([$DueDate] - @now))/86400000)>=68,'68',if(((Number([$DueDate] - @now))/86400000)<70 && ((Number([$DueDate] -@now))/86400000)>=69,'69',if(((Number([$DueDate] - @now))/86400000)<71 && ((Number([$DueDate] - @now))/86400000)>=70,'70',if(((Number([$DueDate] - @now))/86400000)<72 && ((Number([$DueDate] -@now))/86400000)>=71,'71',if(((Number([$DueDate] - @now))/86400000)<73 && ((Number([$DueDate] - @now))/86400000)>=72,'72',if(((Number([$DueDate] - @now))/86400000)<74 && ((Number([$DueDate] -@now))/86400000)>=73,'73',if(((Number([$DueDate] - @now))/86400000)<75 && ((Number([$DueDate] - @now))/86400000)>=74,'74',if(((Number([$DueDate] - @now))/86400000)<76 && ((Number([$DueDate] -@now))/86400000)>=75,'75',if(((Number([$DueDate] - @now))/86400000)<77 && ((Number([$DueDate] - @now))/86400000)>=76,'76',if(((Number([$DueDate] - @now))/86400000)<78 && ((Number([$DueDate] -@now))/86400000)>=77,'77',if(((Number([$DueDate] - @now))/86400000)<79 && ((Number([$DueDate] - @now))/86400000)>=78,'78',if(((Number([$DueDate] - @now))/86400000)<80 && ((Number([$DueDate] -@now))/86400000)>=79,'79',if(((Number([$DueDate] - @now))/86400000)<81 && ((Number([$DueDate] - @now))/86400000)>=80,'80',if(((Number([$DueDate] - @now))/86400000)<82 && ((Number([$DueDate] -@now))/86400000)>=81,'81',if(((Number([$DueDate] - @now))/86400000)<83 && ((Number([$DueDate] - @now))/86400000)>=82,'82',if(((Number([$DueDate] - @now))/86400000)<84 && ((Number([$DueDate] -@now))/86400000)>=83,'83',if(((Number([$DueDate] - @now))/86400000)<85 && ((Number([$DueDate] - @now))/86400000)>=84,'84',if(((Number([$DueDate] - @now))/86400000)<86 && ((Number([$DueDate] -@now))/86400000)>=85,'85',if(((Number([$DueDate] - @now))/86400000)<87 && ((Number([$DueDate] - @now))/86400000)>=86,'86',if(((Number([$DueDate] - @now))/86400000)<88 && ((Number([$DueDate] -@now))/86400000)>=87,'87',if(((Number([$DueDate] - @now))/86400000)<89 && ((Number([$DueDate] - @now))/86400000)>=88,'88',if(((Number([$DueDate] - @now))/86400000)<90 && ((Number([$DueDate] -@now))/86400000)>=89,'89',if(((Number([$DueDate] - @now))/86400000)<91 && ((Number([$DueDate] - @now))/86400000)>=90,'90',if(((Number([$DueDate] - @now))/86400000)<92 && ((Number([$DueDate] -@now))/86400000)>=91,'91',if(((Number([$DueDate] - @now))/86400000)<93 && ((Number([$DueDate] - @now))/86400000)>=92,'92',if(((Number([$DueDate] - @now))/86400000)<94 && ((Number([$DueDate] -@now))/86400000)>=93,'93',if(((Number([$DueDate] - @now))/86400000)<95 && ((Number([$DueDate] - @now))/86400000)>=94,'94',if(((Number([$DueDate] - @now))/86400000)<96 && ((Number([$DueDate] -@now))/86400000)>=95,'95',if(((Number([$DueDate] - @now))/86400000)<97 && ((Number([$DueDate] - @now))/86400000)>=96,'96',if(((Number([$DueDate] - @now))/86400000)<98 && ((Number([$DueDate] -@now))/86400000)>=97,'97',if(((Number([$DueDate] - @now))/86400000)<99 && ((Number([$DueDate] - @now))/86400000)>=98,'98',if(((Number([$DueDate] - @now))/86400000)<100 && ((Number([$DueDate] -@now))/86400000)>=99,'99',if(((Number([$DueDate] - @now))/86400000)<101 && ((Number([$DueDate] - @now))/86400000)>=100,'100',if([$DueDate] <= @now,'Time is up!','100+')))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))) + ' days left)'" ,
      "style": {
        "position": "absolute",
        "right": "2px",
		"bottom":"2px",
		"font-size":"9px",
		"color":"black"
      },
      "attributes": {
        "class": "ms-fontColor-neutralSecondary"
      }
    }	
  ]
}
